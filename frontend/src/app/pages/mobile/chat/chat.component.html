<div class="page">
    <app-chat-bar
        [chatName]="chatName"
        [icons]="icons"
    >

    </app-chat-bar>

    <main #scroll>

        <span class="in-page-status-info "> Conversation Started</span>


<!--        <div class="msg-group-day">-->

<!--            <h4 class="day">Sept 29th</h4>-->

<!--            <ul class="messages">-->
<!--                <li *ngFor="let msg of dayOneMessages" class="message-layout">-->
<!--                    <img class="profile-img" [src]="users[msg.user_id].photoURL"/>-->
<!--                    <div>-->
<!--                        <div class="message-info">-->
<!--                            <span class="sender-name">{{-->
<!--                                users[msg.user_id].name-->
<!--                                }}-->
<!--                                </span>-->
<!--                            <span class="sender-time">{{msg.timestamp}}</span>-->
<!--                        </div>-->

<!--                        <ul class="inline-messages">-->
<!--                            <li *ngFor="let ilnMsg of msg.msgs" class="inline-message">-->
<!--                                {{ilnMsg}}-->
<!--                            </li>-->
<!--                        </ul>-->
<!--                    </div>-->
<!--                </li>-->

<!--            </ul>-->

<!--        </div>-->


        <div class="msg-group-day">

            <h4 class="day">Yesterday</h4>

            <ul class="messages">
                <li *ngFor="let msg of messages" class="message-layout">
                    <img class="profile-img" [src]="participantsObj[msg.senderId].getPhoto()"/>
                    <div>
                        <div class="message-info">
                            <span class="sender-name">{{participantsObj[msg.senderId].getFullName()}}
                                </span>
                            <span class="sender-time">{{msg.timestamp}}</span>
                        </div>

                        <ul class="inline-messages">

                            <li class="inline-message">
                                <img class="inline-msg-image" *ngIf="msg.type === 'IMAGE_STATIC'" [src]="'data:image/jpeg;base64,'+ msg.value"/>
                                <span *ngIf="msg.type === 'TEXT'" [innerHTML]="msg.value | linkify"></span>
                            </li>
<!--                            <li *ngFor="let ilnMsg of msg.msgs" class="inline-message">-->

<!--                                <img class="inline-msg-image" *ngIf="ilnMsg.type === 'image'" [src]="ilnMsg.assetPath"/>-->
<!--                                <span *ngIf="ilnMsg.type === 'text'" [innerHTML]="ilnMsg.text | linkify"></span>-->

<!--                            </li>-->
                        </ul>
                    </div>
                </li>

            </ul>

        </div>

    </main>

    <div class="new-message-section">

        <i class="material-icons-round">insert_photo</i>
        <i (click)="isAudioRecordOpen = !isAudioRecordOpen" class="material-icons-round">mic</i>

        <div class="message-bar">
            <textarea #message
                      (keydown)="resize()"
                      (input)="resize()"
                      (cut)="resize()"
                      (copy)="resize()"
                      (paste)="resize()"
                      placeholder="Message"
            ></textarea>
            <i style="padding: 0" class="material-icons-round">sentiment_satisfied_alt</i>
        </div>
        <i class="material-icons-round">send</i>


    </div>
    <div *ngIf="isAudioRecordOpen" class="audio-caption-container">

        <div class="audio-caption">

            <div class="elipse" id="elipse1">
                <div class="elipse" id="elipse2"></div>
            </div>
            <i class="material-icons-round">
                keyboard_voice
            </i>
        </div>

        <div class="audio-time-counter">
            00:26
        </div>

    </div>

</div>
